<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="./polymer-overlay.html">

<polymer-element name="polymer-timeline" attributes="orientation">
  <template>
    <link href="polymer-timeline.css" media="all" rel="stylesheet" type="text/css"/>
    <div id="container" class="container" style="{{styling}}"></div>
  </template>
  <script>
    Polymer('polymer-timeline', {
      overlays: '',
      created: function() {
      },
      ready: function() {
        var that = this;
        document.addEventListener('hypervideoinnerhtmlupdate', function(e) {
          that.overlays = e.detail.overlays;
          var tempDiv = document.createElement('div');
          tempDiv.innerHTML = that.overlays;
          var polymerOverlays = tempDiv.querySelectorAll('polymer-overlay');
          for (var i = 0, lenI = polymerOverlays.length; i < lenI; i++) {
            var overlay = polymerOverlays[i];
            that.$.container.innerHTML += '<br>Start ' + overlay.getAttribute('start');
            that.$.container.innerHTML += '<br>End ' + overlay.getAttribute('end') + '<hr>';
          }
        }, false);
      }
    });
  </script>
</polymer-element>